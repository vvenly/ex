<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<button onclick="down()">download</button>

<button onclick="addJS()">download</button>


<a href="http://192.168.124.228:8867/exportCsv?trainId=93&startDate=2020-11-03%2000:00:00&endDate=2020-11-03%2023:59:59&columnFieldNameList=projectId,trainId,name,pos,subline,direction,speed,speedLimit,slope,rtime,lng,lat,pressure1,pipePressure,brakePressure,pressure2,handlePosition,dieselSpeed,fuel,trainNumber,trainRole,brakeOperation,brakingReason,brakingType&projectId=100101012">链接下载</a>

<script src="jQuery-3.3.1.min.js"></script>
<script id="script1"></script>
<script>

    function down() {
        let url = "http://192.168.124.228:8867/exportCsv?trainId=93&startDate=2020-11-03%2000:00:00&endDate=2020-11-03%2023:59:59&columnFieldNameList=projectId,trainId,name,pos,subline,direction,speed,speedLimit,slope,rtime,lng,lat,pressure1,pipePressure,brakePressure,pressure2,handlePosition,dieselSpeed,fuel,trainNumber,trainRole,brakeOperation,brakingReason,brakingType&projectId=100101012";

        // $.ajax({  
        //     type: "GET",
        //     url: "http://192.168.124.228:8867/exportCsv?trainId=93&startDate=2020-12-03%2000:00:00&endDate=2020-12-03%2023:59:59&columnFieldNameList=projectId,trainId,name,pos,subline,direction,speed,speedLimit,slope,rtime,lng,lat,pressure1,pipePressure,brakePressure,pressure2,handlePosition,dieselSpeed,fuel,trainNumber,trainRole,brakeOperation,brakingReason,brakingType&projectId=100101012",
        //     dataType: "json",
        //     success: function (json) {
        //         // console.log(json);
        //         console.log(json);
        //     },
        //     error: function () {
        //         console.log("请求失败");
        //     }
        // })

        let a = document.createElement('a')
        a.href =url
        a.click();

        // window.location.href="http://192.168.124.228:8867/exportCsv?trainId=93&startDate=2020-12-03%2000:00:00&endDate=2020-12-03%2023:59:59&columnFieldNameList=projectId,trainId,name,pos,subline,direction,speed,speedLimit,slope,rtime,lng,lat,pressure1,pipePressure,brakePressure,pressure2,handlePosition,dieselSpeed,fuel,trainNumber,trainRole,brakeOperation,brakingReason,brakingType&projectId=100101012"
    }
    console.log($("#script1"))



    // verify() {
    // 	// if(this.form.visitorName===""){
    // 	// 	uni.showToast({ title: v[k].txt, duration: 2000,icon:'none'});
    // 	// }else if(this.form.visitorName===""){
    // 	// 	uni.showToast({ title: v[k].txt, duration: 2000,icon:'none'});
    // 	// }

    // 	let v = this.formVerify, v2 = this.form, verifyArr = {};
    // 	this.form.visitorPhoto = this.imgList1[0]
    // 	this.form.identitycardPhotoA = this.imgList2[0]
    // 	this.form.identitycardPhotoB = this.imgList2[1]
    // 	for(let k in v){

    // 		console.log(k, v[k])
    // 		if(v[k].require && v2[k]===""){
    // 			uni.showToast({ title: v[k].txt, duration: 2000,icon:'none'});
    // 			return false
    // 		}else{
    // 			verifyArr[k] = true
    // 			// return true
    // 		}
    // 	}

    // 	for(let k1 in verifyArr){
    // 		if(verifyArr[k1]=== true) {
    // 			return true
    // 		}

    // 	}
    // 	console.log(2, verifyArr)

    // },
    
    // function addJs() {
    //
    // }
</script>
</body>
</html>