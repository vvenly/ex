<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div>11111111111111</div>


<script src="../../jQuery-3.3.1.min.js"></script>
<script>
    //503201001 苏州地铁5号线做测试

    window.MAIN_URL = 'http://testweb.xaltserver.com/'
    //Promise对象是一个构造函数，用来生成Promise实例。
    //Promise构造函数接受一个函数作为参数，该函数的两个参数分别是resolve和reject。它们是两个函数，由 JavaScript 引擎提供，不用自己部署。

    let pro = new Promise((resolve,reject)=>{
        $.ajax({
            type: "post",
            url:MAIN_URL+"phone/learn_article/get_list",
            // data:{page:1,page_size:10,project_id:503201001},
            data:{ project_id: 101203001, page: 1, page_size: 1, with_trashed: 0},
            success: function (data) {

                //resolve函数的作用是，将Promise对象的状态从“未完成”变为“成功”（即从 pending 变为 resolved），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；
                resolve(data);
            },
            error:function () {

                //reject函数的作用是，将Promise对象的状态从“未完成”变为“失败”（即从 pending 变为 rejected），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。
                reject('执行失败123')
            }
        });
    })

    //Promise实例生成以后，可以用then方法分别指定resolved状态和rejected状态的回调函数。
    pro.then(
        myData=>{
            console.log(myData)
        },
        err=>{
            console.log(err)
        }

    )



</script>
</body>
</html>